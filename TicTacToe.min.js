/*
 * @license
 * Copyright (c) 2016 ryan hs <mr.ryansilalahi@gmail.com>
 * MIT License
 * https://github.com/ryanhs/TicTacToeJS.git
 */
!function(){"use strict";var r=function(r){function n(){var r,n,t,o,a,i,f,s,l,c,v=!0;for(t=o=a=i=f=s=l=c=0,r=0;e>r;r++){for(t=o=a=i=0,n=0;e>n;n++)null==u[r][n]&&(v=!1),"X"==u[r][n]&&t++,"O"==u[r][n]&&o++,"X"==u[n][r]&&a++,"O"==u[n][r]&&i++;if(t==e||a==e)return"X";if(o==e||i==e)return"O";"X"==u[r][r]&&f++,"O"==u[r][r]&&s++,"X"==u[r][e-r-1]&&l++,"O"==u[r][e-r-1]&&c++}return f==e||l==e?"X":s==e||c==e?"O":v?"draw":"in progress"}var t={},e=3,u=[],o=1,a=[],i=[o,"in progress"],f=[0,[]];return t.reset=function(r){parseInt(r)>=3&&(e=r);var n,t,i=[];for(u=[],n=0;e>n;n++){for(i=[],t=0;e>t;t++)i.push(null);u.push(i)}o=1,a=[]},t.getSize=function(){return e},t.turn=function(){return o%2==0?"O":"X"},t.ascii=function(){var r,n,t="";for(r=0;e>r;r++){for(n=0;e>n;n++)0==n&&(t+=" "),t+=null==u[r][n]?" ":u[r][n],e-1>n&&(t+=" | ");e-1>r&&(t+="\r\n"+"-".repeat(4*e-1)+"\r\n")}return t},t.ascii2=function(){var r,n,t="";for(r=0;e>r;r++){for(n=0;e>n;n++)0==n&&(t+=e-r+" "),t+=" ",t+=null==u[r][n]?".":u[r][n],t+=" ";t+="\r\n"}for(t+="   ",n=0;e>n;n++)t+=n+1+"  ";return t},t.move=function(r,n){return r--,n=Math.abs(n-e),0>n||n>=e||0>r||r>=e?!1:null!=u[n][r]?!1:(u[n][r]=t.turn(),o++,!0)},t.exists=function(r,n){return r--,n=Math.abs(n-e),0>n||n>=e||0>r||r>=e?!1:null!=u[n][r]},t.get=function(r,n){return r--,n=Math.abs(n-e),0>n||n>=e||0>r||r>=e?null:u[n][r]},t.moveArray=function(r,n){return 0>r||r>=e||0>n||n>=e?!1:null!=u[r][n]?!1:(u[r][n]=t.turn(),o++,!0)},t.status=function(){return i[0]==o?i[1]:(i[0]=o,i[1]=n(),t.status())},t.gameOver=function(){return"in progress"!=t.status()},t.isDraw=function(){return"draw"==t.status()},t.legalMoves=function(){if(f[0]==o)return f[1];var r,n,a=[];for(n=0;e>n;n++)for(r=0;e>r;r++)null==u[n][r]&&a.push({x:r+1,y:e-n});return f[0]=o,f[1]=a,t.legalMoves()},t.randomMove=function(){var r=t.legalMoves()[Math.floor(Math.random()*t.legalMoves().length)];return t.move(r.x,r.y),r},t.reset(r),t};"undefined"!=typeof exports&&(exports.TicTacToe=r),"undefined"!=typeof window&&(window.TicTacToe=r)}();